"File: Uart.c        Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Wed Jul 03 23:17:34 2019
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       without long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ;       
  12  0000              ;       
  13  0000              ; use 'tabrdc' instead of 'tabrd'
  14  0000              ;       
  15  0000              
  16  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  17  0000              ; Rebuild 115
  18  0000              
  19  0000              ir equ [2]
  20  0000              mp equ [3]
  21  0000              sbp equ [1]
  22  0000              acc equ [5]
  23  0000              bp equ [4]
  24  0000              tblp equ [7]
  25  0000              tbhp equ [9]
  26  0000              status equ [10]
  27  0000              c equ [10].0
  28  0000              ac equ [10].1
  29  0000              z equ [10].2
  30  0000              ov equ [10].3
  31  0000              intc equ [11]
  32  0000              
  33  0000              extern ra:byte
  34  0000              extern rb:byte
  35  0000              extern rc:byte
  36  0000              extern rd:byte
  37  0000              extern re:byte
  38  0000              extern rf:byte
  39  0000              extern rg:byte
  40  0000              extern rh:byte
  41  0000              extern _Crom2Prom:near
  42  0000              extern _Crom2PromNext:near
  43  0000              
  44  0000              RAMBANK 0 @HCCINIT, @HCCINIT0
  45  0000              
  46  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  47  0000              @HCCINIT	.section 'data'
  48  0000              @HCCINIT0	.section 'data'
  49  0000              @BITDATASEC	 .section 'data'
  50  0000              @BITDATASEC1	 .section 'data'
  51  0000              
  52  0000              #pragma debug scope 1 1
  53  0000              	extern __DELAY3:near
  54  0000              	extern __DELAYX3:near
  55  0000              	extern __DELAYX6:near
  56  0000              	extern __DELAYY5:near
  57  0000              	extern __DELAYY3:near
  58  0000              	extern _builtin_holtek_delay_2:byte
  59  0000              ___ucr1 equ [69]
"File: Uart.ASM      Assembler  Version HGASM0202      Page 2

  60  0000              ___ucr2 equ [70]
  61  0000              ___brg equ [71]
  62  0000              public _Uart_Init
  63  0000              #pragma debug scope 2 1

  57  0000              #line 57 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  57  0000              _Uart_Init .section 'code'
  57  0000              _Uart_Init proc
  63  0000              #line 63 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  63  0000  0F80        	mov a,128
  63  0001  00C5        	mov [69],a
  64  0002              #line 64 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  64  0002  0FEF        	mov a,239
  64  0003  00C6        	mov [70],a
  65  0004              #line 65 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  65  0004  3146        	set [70].2
  67  0005              #line 67 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  67  0005  0F26        	mov a,38
  67  0006  00C7        	mov [71],a
  67  0007  0003        	ret
  67  0008              _Uart_Init endp
  67  0008              #line 67 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  67  0008              #pragma debug scope 1 1
  67  0008              public _Uart_off
  67  0008              #pragma debug scope 3 1
  85  0008              #line 85 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  85  0000              _Uart_off .section 'code'
  85  0000              _Uart_off proc
  86  0000              #line 86 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  86  0000  3546        	clr [70].2
  86  0001  0003        	ret
  86  0002              _Uart_off endp
  86  0002              #line 86 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  86  0002              #pragma debug scope 1 1
  86  0002              ___usr equ [68]
  86  0002              ___txr_rxr equ [72]
  86  0002              public _UART_ISR
  86  0002              #pragma debug scope 4 1
 109  0002              #line 109 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 109  0000              _UART_ISR .section 'code'
 109  0000              _UART_ISR proc
 112  0000              #line 112 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 112  0000  3FC4        	sz [68].7
 112  0001  2800     R  	jmp _L4
 112  0002              #line 112 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 112  0002  3F44        	sz [68].6
 112  0003  2800     R  	jmp _L4
 112  0004  3EC4        	sz [68].5
 112  0005  2800     R  	jmp _L4
 112  0006  3A44        	snz [68].4
 112  0007  2800     R  	jmp _L5
 112  0008              _L4:
 114  0008              #line 114 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 114  0008  0744        	mov a,[68]
 114  0009  0080     E  	mov ra,a
 115  000A              #line 115 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 115  000A  0748        	mov a,[72]
 115  000B  0080     E  	mov ra,a
 115  000C  2800     R  	jmp _L3
 115  000D              _L5:
"File: Uart.c        Assembler  Version HGASM0202      Page 3

 119  000D              #line 119 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 119  000D  3944        	snz [68].2
 119  000E  2800     R  	jmp _L7
 122  000F              #line 122 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 122  000F  0F00     R  	mov a,low offset _array_uart_rxbuff
 122  0010  0300     R  	add a,_gu8v_rx_guide[0]
 122  0011  0083        	mov mp,a
 122  0012  0F00     R  	mov a,high offset _array_uart_rxbuff
 122  0013  1F01        	clr sbp
 122  0014  1381        	adcm a,sbp
 122  0015  0701        	mov a,sbp
 122  0016  0084        	mov bp,a
 122  0017  0748        	mov a,[72]
 122  0018  0082        	mov ir,a
 124  0019              #line 124 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 124  0019  0F00     R  	mov a,low offset _array_uart_rxbuff
 124  001A  0300     R  	add a,_gu8v_rx_guide[0]
 124  001B  0083        	mov mp,a
 124  001C  0F00     R  	mov a,high offset _array_uart_rxbuff
 124  001D  1F01        	clr sbp
 124  001E  1381        	adcm a,sbp
 124  001F  2000     E  	call _Crom2Prom
 124  0020  0080     E  	mov ra,a
 124  0021  0700     E  	mov a,ra
 124  0022  0A0A        	sub a,10
 124  0023  390A        	snz z
 124  0024  2800     R  	jmp _L8
 126  0025              #line 126 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 126  0025  3000     R  	set _gu8v_uart_flag[0].1
 126  0026              _L8:
 130  0026              #line 130 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 130  0026  0F04        	mov a,4
 130  0027  0200     R  	sub a,_gu8v_rx_guide[0]
 130  0028  3C0A        	sz c
 130  0029  2800     R  	jmp _L9
 132  002A              #line 132 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 132  002A  1F00     R  	clr _gu8v_rx_guide[0]
 132  002B  2800     R  	jmp _L10
 132  002C              _L9:
 136  002C              #line 136 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 136  002C  1480     R  	inc _gu8v_rx_guide[0]
 136  002D              _L10:
 141  002D              #line 141 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 141  002D              ;# 141 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c" 1
 141  002D  0000        	nop
 141  002E              _L7:
 143  002E              #line 143 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 143  002E  3844        	snz [68].0
 143  002F  2800     R  	jmp _L3
 145  0030              #line 145 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 145  0030  1480     R  	inc _gu8v_tx_guide[0]
 146  0031              #line 146 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 146  0031  0F06        	mov a,6
 146  0032  0200     R  	sub a,_gu8v_tx_guide[0]
 146  0033  380A        	snz c
 146  0034  2800     R  	jmp _L3
 148  0035              #line 148 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 148  0035  0F00     R  	mov a,low offset _array_uart_txbuff
 148  0036  0300     R  	add a,_gu8v_tx_guide[0]
 148  0037  0083        	mov mp,a
"File: Uart.c        Assembler  Version HGASM0202      Page 4

 148  0038  0F00     R  	mov a,high offset _array_uart_txbuff
 148  0039  1F01        	clr sbp
 148  003A  1381        	adcm a,sbp
 148  003B  2000     E  	call _Crom2Prom
 148  003C  00C8        	mov [72],a
 148  003D              _L3:
 148  003D  0003        	ret
 148  003E              _UART_ISR endp
 148  003E              #line 148 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 148  003E              #pragma debug scope 1 1
 148  003E              public _Uart_manage
 148  003E              #pragma debug scope 5 1
 169  003E              #line 169 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 169  0000              _Uart_manage .section 'code'
 169  0000              _Uart_manage proc
 170  0000              #line 170 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 170  0000  3800     R  	snz _gu8v_uart_flag[0].1
 170  0001  2800     R  	jmp _L17
 172  0002              #line 172 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 172  0002  3400     R  	clr _gu8v_uart_flag[0].1
 173  0003              #line 173 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 173  0003  0700     R  	mov a,_array_uart_rxbuff[0]
 173  0004  0A2F        	sub a,47
 173  0005  390A        	snz z
 173  0006  2800     R  	jmp _L19
 173  0007  0700     R  	mov a,_array_uart_rxbuff[5]
 173  0008  0A0A        	sub a,10
 173  0009  390A        	snz z
 173  000A  2800     R  	jmp _L19
 175  000B              #line 175 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 175  000B  0700     R  	mov a,_array_uart_rxbuff[1]
 175  000C  0080     E  	mov ra,a
 175  000D  2800     R  	jmp _L17
 175  000E              _L19:
 194  000E              #line 194 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 194  000E  1F00     R  	clr _gu8v_rx_guide[0]
 194  000F              _L17:
 194  000F  0003        	ret
 194  0010              _Uart_manage endp
 194  0010              #line 194 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 194  0010              #pragma debug scope 1 1
 194  0010              public _Uart_TX_BH32F52640_ADC_AUTO_TEST
 194  0010              #pragma debug scope 6 1
 209  0010              #line 209 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 209  0000              _Uart_TX_BH32F52640_ADC_AUTO_TEST .section 'code'
 209  0000              _Uart_TX_BH32F52640_ADC_AUTO_TEST proc
 209  0000              public _Uart_TX_BH32F52640_ADC_AUTO_TEST_2
 209  0000  0002[           local _Uart_TX_BH32F52640_ADC_AUTO_TEST_2 db 2 dup(?)	; 2,0
            00
            ]
 209  0002              #pragma debug variable 12 6 _Uart_TX_BH32F52640_ADC_AUTO_TEST_2+0 "lu16v_tx_data"
 210  0002              #line 210 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 210  0000  0F55        	mov a,85
 210  0001  0080     R  	mov _array_uart_txbuff[0],a
 211  0002              #line 211 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 211  0002  1F00     R  	clr _array_uart_txbuff[1]
 212  0003              #line 212 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 212  0003  0700     R  	mov a,_Uart_TX_BH32F52640_ADC_AUTO_TEST_2[0]
 212  0004  0080     R  	mov _array_uart_txbuff[2],a
 213  0005              #line 213 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
"File: Uart.c        Assembler  Version HGASM0202      Page 5

 213  0005  0700     R  	mov a,_Uart_TX_BH32F52640_ADC_AUTO_TEST_2[1]
 213  0006  0080     R  	mov _array_uart_txbuff[3],a
 214  0007              #line 214 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 214  0007  1F00     R  	clr _array_uart_txbuff[4]
 215  0008              #line 215 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 215  0008  0700     R  	mov a,_array_uart_txbuff[3]
 215  0009  0300     R  	add a,_array_uart_txbuff[2]
 215  000A  0080     E  	mov rb,a
 215  000B  0700     R  	mov a,_array_uart_txbuff[4]
 215  000C  0380     E  	addm a,rb
 215  000D  0700     R  	mov a,_array_uart_txbuff[1]
 215  000E  0300     R  	add a,_array_uart_txbuff[0]
 215  000F  0080     E  	mov ra,a
 215  0010  0700     E  	mov a,rb
 215  0011  0300     E  	add a,ra
 215  0012  0080     R  	mov _array_uart_txbuff[5],a
 216  0013              #line 216 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 216  0013  0700     R  	mov a,_array_uart_txbuff[0]
 216  0014  00C8        	mov [72],a
 217  0015              #line 217 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 217  0015  1F00     R  	clr _gu8v_tx_guide[0]
 217  0016  0003        	ret
 217  0017              _Uart_TX_BH32F52640_ADC_AUTO_TEST endp
 217  0017              #line 217 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
 217  0017              #pragma debug scope 1 1
  48  0017              #line 48 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  48  0017              public _array_uart_rxbuff
  48  0000              @HCCINIT0 .section 'data'
  48  0000  0006[       _array_uart_rxbuff	db 6 dup(0)
            00
            ]
  48  0006              #pragma debug array 42 8 6 1
  48  0006              #pragma debug array 42 8 6 1
  48  0006              #pragma debug variable 42 1 _array_uart_rxbuff "array_uart_rxbuff"
  48  0006              
  48  0000              @HCCINIT .section 'data'
  47  0000              #line 47 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  47  0000              public _array_uart_txbuff
  47  0006              @HCCINIT0 .section 'data'
  47  0006  0007[       _array_uart_txbuff	db 7 dup(0)
            00
            ]
  47  000D              #pragma debug array 43 8 7 1
  47  000D              #pragma debug array 43 8 7 1
  47  000D              #pragma debug variable 43 1 _array_uart_txbuff "array_uart_txbuff"
  47  000D              
  47  0000              @HCCINIT .section 'data'
  46  0000              #line 46 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  46  0000              public _gu8v_uart_flag
  46  000D              @HCCINIT0 .section 'data'
  46  000D              _gu8v_uart_flag	db 0
  46  000E              #pragma debug struct_end
  46  000E              #pragma debug struct_end
  46  000E              #pragma debug union_end
  46  000E              #pragma debug union_end
  46  000E              #pragma debug variable 45 1 _gu8v_uart_flag "gu8v_uart_flag"
  46  000E              
  46  0000              @HCCINIT .section 'data'
  45  0000              #line 45 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  45  0000              public _gu8v_tx_guide
"File: Uart.c        Assembler  Version HGASM0202      Page 6

  45  000E              @HCCINIT0 .section 'data'
  45  000E              _gu8v_tx_guide	db 0
  45  000F              #pragma debug variable 8 1 _gu8v_tx_guide "gu8v_tx_guide"
  45  000F              
  45  0000              @HCCINIT .section 'data'
  44  0000              #line 44 "C:\ChipsGarden\醇法\MK8002D\UARTtoI2Cwith8bitsMCU\Uart.c"
  44  0000              public _gu8v_rx_guide
  44  000F              @HCCINIT0 .section 'data'
  44  000F              _gu8v_rx_guide	db 0
  44  0010              #pragma debug variable 8 1 _gu8v_rx_guide "gu8v_rx_guide"
  44  0010              
  44  0000              @HCCINIT .section 'data'
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug variable 47 1 ___usr "__usr" 1
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug variable 49 1 ___ucr1 "__ucr1" 1
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug variable 51 1 ___ucr2 "__ucr2" 1
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug variable 53 1 ___brg "__brg" 1
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug struct_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug union_end
  44  0000              #pragma debug variable 55 1 ___txr_rxr "__txr_rxr" 1
  44  0000              
  44  0000              ; 
  44  0000              ; Generated by holtek-gcc v3.19, Wed Jul 03 23:17:34 2019
  44  0000              ; Rebuild 115
  44  0000              ; end of file


        0 Errors, 0